<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>RE Species Map</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <link href="https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
<div id="map"></div>

<script src="https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.js"></script>
<script>
  const map = new maplibregl.Map({
    container: 'map',
    style: {
      version: 8,
      glyphs: "https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf", // âœ… REQUIRED for text labels
      sources: {
        "species": {
          type: "vector",
          tiles: ["https://foryourplant.github.io/re-seq-species-map/tiles/{z}/{x}/{y}.pbf"],
          minzoom: 0,
          maxzoom: 14
        }
      },
      layers: [
        {
          id: "species-fill",
          type: "fill",
          source: "species",
          "source-layer": "species_fields", // same name as used in tippecanoe `-l species_fields`
          paint: {
            "fill-color": [
              "match",
              ["get", "re"],
              // Add auto-generated or manually mapped colours here (example):
              "12.8.16", "#e41a1c",
              "11.5.1", "#377eb8",
              "8.2.3", "#4daf4a",
              /* default */ "#cccccc"
            ],
            "fill-opacity": 0.6
          }
        },
        {
          id: "species-labels",
          type: "symbol",
          source: "species",
          "source-layer": "species_fields",
          layout: {
            "text-field": ["get", "re"],
            "text-size": 12
          },
          paint: {
            "text-color": "#000000",
            "text-halo-color": "#ffffff",
            "text-halo-width": 1
          }
        }
      ]
    },
    center: [151.7, -26.97], // Adjust to center on your data
    zoom: 10
  });

  // Optional: Add zoom and navigation controls
  map.addControl(new maplibregl.NavigationControl());
</script>
</body>
</html>
